<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>HelloWorld Application</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">amazonica-swf-examples</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10-setting-up.html"><div class="inner"><span>Setting Up</span></div></a></li><li class="depth-1  current"><a href="20-hello-world-app.html"><div class="inner"><span>HelloWorld Application</span></div></a></li><li class="depth-1 "><a href="30-hello-world-javaapp.html"><div class="inner"><span>HelloWorldWorkflow - Java Application</span></div></a></li><li class="depth-1 "><a href="31-hello-world-wrapapp.html"><div class="inner"><span>HelloWorldWorkflow - Wrapped Java Application</span></div></a></li><li class="depth-1 "><a href="32-hello-world-wfapp.html"><div class="inner"><span>HelloWorldWorkflow Application</span></div></a></li><li class="depth-1 "><a href="89-related.html"><div class="inner"><span>Related</span></div></a></li><li class="depth-1 "><a href="99-other-versions.html"><div class="inner"><span>Other Versions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>amazonica</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>examples</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simpleworkflow</span></div></div></li><li class="depth-4 branch"><a href="amazonica.examples.simpleworkflow.app.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>app</span></div></a></li><li class="depth-4 branch"><a href="amazonica.examples.simpleworkflow.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-4"><a href="amazonica.examples.simpleworkflow.wfapp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wfapp</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>clojusc</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aws</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>examples</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>swf</span></div></div></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>javaapp</span></div></div></li><li class="depth-6"><a href="clojusc.aws.examples.swf.javaapp.run.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>run</span></div></a></li><li class="depth-5"><a href="clojusc.aws.examples.swf.wfapp.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>wfapp</span></div></a></li><li class="depth-4"><a href="clojusc.aws.examples.util.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#helloworld-application" name="helloworld-application"></a>HelloWorld Application</h1>
<p>Adapted from the <a href="http://docs.aws.amazon.com/amazonswf/latest/awsflowguide/getting-started-example-helloworld.html">Java HelloWorld Application</a>.</p>
<p>To print “Hello, World!” to the console, the activity tasks must execute in sequence in the correct order with the correct data.</p>
<h2><a href="#helloworld-activities-protocol" name="helloworld-activities-protocol"></a>HelloWorld Activities Protocol</h2>
<p>HelloWorld breaks the overall task of printing a “Hello World!” greeting to the console into three tasks, each of which is performed by an activity method. The activity methods are defined in the <code>IGreeterActivities</code> protocol, as follows.</p>
<pre><code class="clj">(defprotocol IGreeterActivities
  "I am a sample interface that defines specific workflow activities for a
  'greeter'."
  (get-name [this]
    "Return the greeter's name.")
  (get-greeting [this value]
    "Given a value, usually a greeter's name, return a greeting.")
  (say [this greeting]
    "Given a greeting, display it (usually to `stdout`)."))
</code></pre>
<h2><a href="#helloworld-activities-implementation" name="helloworld-activities-implementation"></a>HelloWorld Activities Implementation</h2>
<p>HelloWorld has one activity implementation, <code>GreeterActivities</code>, which provides the behaviour as shown:</p>
<pre><code class="clj">(def greeter-actvities-behaviour
  "Implementation for `IGreeterActivities`."
  {:get-name (fn [this] "World")
   :get-greeting (fn [this value] (format "Hello, %s!" value))
   :say (fn [this greeting] (println greeting))})
</code></pre>
<h2><a href="#helloworld-workflow-worker" name="helloworld-workflow-worker"></a>HelloWorld Workflow Worker</h2>
<p>The HelloWorld workflow worker has a single method, the workflow’s entry point, which is defined in the IGreeterWorkflow protocol, as follows:</p>
<pre><code class="clj">(defprotocol IGreeterWorkflow
  "I am a sample interface that defines the entrypoint for a 'greeter'
  workflow."
  (greet [this]
    "This is the entrypoint function that kicks off a given workflow."))
</code></pre>
<p><code>GreeterWorkflow</code> implements this interface, as follows:</p>
<pre><code class="clj">(def greeter-workflow-behaviour
  "Implementation for `IGreeterWorkflow`."
  {:greet (fn [this]
            (let [operations (new GreeterActivities)]
              (-&gt;&gt; (get-name operations)
                   (get-greeting operations)
                   (say operations))))})
</code></pre>
<h3><a href="#helloworld-workflow-starter" name="helloworld-workflow-starter"></a>HelloWorld Workflow Starter</h3>
<p>A workflow starter is an application that starts a workflow execution, and might also communicate with the workflow while it is executing. The <code>amazonica.examples.simpleworkflow.app</code> namespace implements the HelloWorld workflow starter, as follows:</p>
<pre><code class="clj">(defn -main
  [&amp; args]
  "Run the workflow app."
  (-&gt; (new GreeterWorkflow)
      (greet)))
</code></pre></div></div></div></body></html>